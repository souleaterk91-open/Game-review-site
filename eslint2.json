[{"filePath":"D:\\review project\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\scripts\\make-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\add-game\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\edit-game\\[gameId]\\EditGameForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\edit-game\\[gameId]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\edit-review\\[gameId]\\EditReviewForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\edit-review\\[gameId]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":13,"column":5,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":13,"endColumn":18,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[285,298],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth } from \"@/auth\";\r\nimport { redirect } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport \"@/styles/pages.css\";\r\n\r\nexport default async function AdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const session = await auth();\r\n\r\n    // @ts-ignore\r\n    if (!session || session?.user?.role !== \"ADMIN\") {\r\n        redirect(\"/\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\" style={{ paddingTop: \"100px\", minHeight: \"100vh\", display: \"flex\", gap: \"32px\" }}>\r\n            {/* Admin Sidebar */}\r\n            <aside style={{ width: \"250px\", flexShrink: 0 }}>\r\n                <div className=\"glass-panel\" style={{ padding: \"24px\", borderRadius: \"16px\", position: \"sticky\", top: \"100px\" }}>\r\n                    <h2 style={{ fontSize: \"1.25rem\", marginBottom: \"24px\", borderBottom: \"1px solid rgba(255,255,255,0.1)\", paddingBottom: \"12px\" }}>\r\n                        Admin Panel\r\n                    </h2>\r\n                    <nav style={{ display: \"flex\", flexDirection: \"column\", gap: \"12px\" }}>\r\n                        <Link href=\"/admin\" className=\"btn-outline\" style={{ justifyContent: \"flex-start\", border: \"none\" }}>\r\n                            Dashboard\r\n                        </Link>\r\n                        <Link href=\"/admin/add-game\" className=\"btn-outline\" style={{ justifyContent: \"flex-start\", border: \"none\" }}>\r\n                            + Add New Game\r\n                        </Link>\r\n                    </nav>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Admin Main Content */}\r\n            <main style={{ flexGrow: 1 }}>\r\n                <div className=\"glass-panel\" style={{ padding: \"32px\", borderRadius: \"16px\" }}>\r\n                    {children}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\admin\\write-review\\[gameId]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":44,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[49,60],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PrismaClient' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":22,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"PrismaClient"},"fix":{"range":[175,223],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useTransition, useState, useEffect } from \"react\";\r\nimport { createPostReview } from \"@/lib/actions\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { PrismaClient } from \"@prisma/client\";\r\n\r\n// Note: In an ideal world we fetch the associated Game data serverside and pass it as a prop.\r\n// For the sake of this component, we'll keep it focused on the form submission.\r\n\r\nexport default function WriteReviewPage({ params }: { params: { gameId: string } }) {\r\n    const router = useRouter();\r\n    const [isPending, startTransition] = useTransition();\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\r\n        e.preventDefault();\r\n        setError(null);\r\n\r\n        const formData = new FormData(e.currentTarget);\r\n\r\n        startTransition(async () => {\r\n            const result = await createPostReview(params.gameId, formData);\r\n            if (result.success) {\r\n                router.push(\"/admin\");\r\n                router.refresh();\r\n            } else {\r\n                setError(result.error || \"Failed to submit review\");\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div style={{ maxWidth: \"800px\", margin: \"0 auto\" }}>\r\n            <div style={{ marginBottom: \"32px\", borderBottom: \"1px solid rgba(255,255,255,0.1)\", paddingBottom: \"16px\" }}>\r\n                <h1 style={{ fontSize: \"2rem\", fontWeight: \"bold\" }}>Write Post-Game Review</h1>\r\n                <p style={{ color: \"rgba(255,255,255,0.6)\" }}>Provide ratings and commentary for the 4 core pillars, plus an overall summary.</p>\r\n            </div>\r\n\r\n            {error && (\r\n                <div style={{ padding: \"16px\", backgroundColor: \"rgba(255,0,0,0.1)\", color: \"#ff6b6b\", borderRadius: \"8px\", marginBottom: \"24px\", border: \"1px solid rgba(255,0,0,0.2)\" }}>\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} style={{ display: \"flex\", flexDirection: \"column\", gap: \"32px\" }}>\r\n\r\n                {/* Story Section */}\r\n                <div className=\"glass-panel\" style={{ padding: \"24px\", borderRadius: \"12px\" }}>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"16px\" }}>\r\n                        <h2 style={{ fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"var(--primary)\" }}>Story & Narrative</h2>\r\n                        <div style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\" }}>\r\n                            <label style={{ fontWeight: \"bold\" }}>Score (1-5):</label>\r\n                            <input name=\"storyScore\" type=\"number\" min=\"1\" max=\"5\" required className=\"input-field\" style={{ width: \"60px\", padding: \"8px\", borderRadius: \"4px\", backgroundColor: \"rgba(0,0,0,0.3)\", border: \"1px solid rgba(255,255,255,0.2)\", color: \"white\", textAlign: \"center\" }} />\r\n                        </div>\r\n                    </div>\r\n                    <textarea name=\"storyComment\" required rows={3} className=\"input-field\" placeholder=\"Thoughts on the plot, characters, and pacing...\" style={{ width: \"100%\", padding: \"12px\", borderRadius: \"8px\", backgroundColor: \"rgba(0,0,0,0.2)\", border: \"1px solid rgba(255,255,255,0.1)\", color: \"white\", resize: \"vertical\" }} />\r\n                </div>\r\n\r\n                {/* Graphics Section */}\r\n                <div className=\"glass-panel\" style={{ padding: \"24px\", borderRadius: \"12px\" }}>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"16px\" }}>\r\n                        <h2 style={{ fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"var(--primary)\" }}>Graphics & Art Direction</h2>\r\n                        <div style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\" }}>\r\n                            <label style={{ fontWeight: \"bold\" }}>Score (1-5):</label>\r\n                            <input name=\"graphicsScore\" type=\"number\" min=\"1\" max=\"5\" required className=\"input-field\" style={{ width: \"60px\", padding: \"8px\", borderRadius: \"4px\", backgroundColor: \"rgba(0,0,0,0.3)\", border: \"1px solid rgba(255,255,255,0.2)\", color: \"white\", textAlign: \"center\" }} />\r\n                        </div>\r\n                    </div>\r\n                    <textarea name=\"graphicsComment\" required rows={3} className=\"input-field\" placeholder=\"Thoughts on visual fidelity, art style, and environments...\" style={{ width: \"100%\", padding: \"12px\", borderRadius: \"8px\", backgroundColor: \"rgba(0,0,0,0.2)\", border: \"1px solid rgba(255,255,255,0.1)\", color: \"white\", resize: \"vertical\" }} />\r\n                </div>\r\n\r\n                {/* Gameplay Section */}\r\n                <div className=\"glass-panel\" style={{ padding: \"24px\", borderRadius: \"12px\" }}>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"16px\" }}>\r\n                        <h2 style={{ fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"var(--primary)\" }}>Gameplay & Mechanics</h2>\r\n                        <div style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\" }}>\r\n                            <label style={{ fontWeight: \"bold\" }}>Score (1-5):</label>\r\n                            <input name=\"gameplayScore\" type=\"number\" min=\"1\" max=\"5\" required className=\"input-field\" style={{ width: \"60px\", padding: \"8px\", borderRadius: \"4px\", backgroundColor: \"rgba(0,0,0,0.3)\", border: \"1px solid rgba(255,255,255,0.2)\", color: \"white\", textAlign: \"center\" }} />\r\n                        </div>\r\n                    </div>\r\n                    <textarea name=\"gameplayComment\" required rows={3} className=\"input-field\" placeholder=\"Thoughts on combat, loops, controls, and fun factor...\" style={{ width: \"100%\", padding: \"12px\", borderRadius: \"8px\", backgroundColor: \"rgba(0,0,0,0.2)\", border: \"1px solid rgba(255,255,255,0.1)\", color: \"white\", resize: \"vertical\" }} />\r\n                </div>\r\n\r\n                {/* Quality Section */}\r\n                <div className=\"glass-panel\" style={{ padding: \"24px\", borderRadius: \"12px\" }}>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"16px\" }}>\r\n                        <h2 style={{ fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"var(--primary)\" }}>Quality & Polish</h2>\r\n                        <div style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\" }}>\r\n                            <label style={{ fontWeight: \"bold\" }}>Score (1-5):</label>\r\n                            <input name=\"qualityScore\" type=\"number\" min=\"1\" max=\"5\" required className=\"input-field\" style={{ width: \"60px\", padding: \"8px\", borderRadius: \"4px\", backgroundColor: \"rgba(0,0,0,0.3)\", border: \"1px solid rgba(255,255,255,0.2)\", color: \"white\", textAlign: \"center\" }} />\r\n                        </div>\r\n                    </div>\r\n                    <textarea name=\"qualityComment\" required rows={3} className=\"input-field\" placeholder=\"Bugs, UI/UX, optimization, and overall finish...\" style={{ width: \"100%\", padding: \"12px\", borderRadius: \"8px\", backgroundColor: \"rgba(0,0,0,0.2)\", border: \"1px solid rgba(255,255,255,0.1)\", color: \"white\", resize: \"vertical\" }} />\r\n                </div>\r\n\r\n                {/* Overall Summary */}\r\n                <div style={{ marginTop: \"16px\" }}>\r\n                    <label style={{ display: \"block\", marginBottom: \"8px\", fontWeight: \"bold\", fontSize: \"1.1rem\" }}>Final Verdict (Overall Review) *</label>\r\n                    <p style={{ color: \"rgba(255,255,255,0.5)\", fontSize: \"0.9rem\", marginBottom: \"12px\" }}>This will be the main summary paragraph shown at the top of the review.</p>\r\n                    <textarea name=\"overallReview\" required rows={6} className=\"input-field\" style={{ width: \"100%\", padding: \"16px\", borderRadius: \"8px\", backgroundColor: \"rgba(0,0,0,0.2)\", border: \"1px solid rgba(255,255,255,0.1)\", color: \"white\", resize: \"vertical\", fontSize: \"1.05rem\", lineHeight: \"1.6\" }} />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginTop: \"16px\", borderTop: \"1px solid rgba(255,255,255,0.1)\", paddingTop: \"24px\" }}>\r\n                    <button type=\"submit\" disabled={isPending} className=\"btn-primary\" style={{ minWidth: \"250px\", padding: \"16px\", fontSize: \"1.1rem\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap: \"8px\" }}>\r\n                        {isPending ? \"Publishing Review...\" : \"Publish Post-Game Review\"}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\games\\[slug]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":46,"column":20,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":46,"endColumn":69,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1409,1458],"text":"/* @ts-expect-error - Role is added in auth callback */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":54,"column":23,"nodeType":"JSXOpeningElement","endLine":54,"endColumn":188}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Metadata } from \"next\";\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport Link from \"next/link\";\nimport { auth, signIn, signOut } from \"@/auth\";\nimport \"./globals.css\";\nimport \"@/styles/pages.css\";\nimport \"@/styles/components.css\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: \"Game Review Vault | The Pre & Post Game Experience\",\n  description: \"Ultimate destination for spoiler-free reviews and deep-dive post-game analysis.\",\n};\n\nexport default async function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  const session = await auth();\n\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n        <nav id=\"main-navbar\" className=\"glass-panel navbar\">\n          <div className=\"container navbar-inner\">\n            <Link href=\"/\" className=\"navbar-logo-link\">\n              <h2 className=\"navbar-brand\">\n                Game Review <span className=\"text-gradient\">Vault</span>\n              </h2>\n            </Link>\n            <div className=\"navbar-actions\" style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n              {session?.user ? (\n                <>\n                  {/* @ts-ignore - Role is added in auth callback */}\n                  {session.user.role === \"ADMIN\" && (\n                    <Link href=\"/admin\" className=\"btn-outline\" style={{ borderColor: 'var(--primary)', color: 'var(--primary)', padding: '6px 12px', fontSize: '0.9rem' }}>\n                      Admin Dashboard\n                    </Link>\n                  )}\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    {session.user.image ? (\n                      <img src={session.user.image} alt={session.user.name || \"User\"} style={{ width: '36px', height: '36px', borderRadius: '50%', border: '2px solid var(--primary)' }} />\n                    ) : (\n                      <div style={{ width: '36px', height: '36px', borderRadius: '50%', backgroundColor: 'var(--primary)', display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#fff', fontWeight: 'bold' }}>\n                        {session.user.name?.[0] || \"U\"}\n                      </div>\n                    )}\n                    <span style={{ color: '#fff', fontWeight: 500 }}>{session.user.name?.split(' ')[0]}</span>\n                  </div>\n                  <form action={async () => {\n                    \"use server\";\n                    await signOut();\n                  }}>\n                    <button type=\"submit\" className=\"btn-outline\">\n                      Log out\n                    </button>\n                  </form>\n                </>\n              ) : (\n                <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n                  <form action={async () => {\n                    \"use server\";\n                    await signIn(\"google\");\n                  }}>\n                    <button type=\"submit\" className=\"btn-outline\" style={{ color: '#fff', borderColor: 'rgba(255,255,255,0.3)' }}>\n                      Log In\n                    </button>\n                  </form>\n                  <form action={async () => {\n                    \"use server\";\n                    await signIn(\"google\");\n                  }}>\n                    <button type=\"submit\" className=\"btn-primary\" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\n                        <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\n                        <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\n                        <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\n                        <path d=\"M1 1h22v22H1z\" fill=\"none\" />\n                      </svg>\n                      Sign Up\n                    </button>\n                  </form>\n                </div>\n              )}\n            </div>\n          </div>\n        </nav>\n        {children}\n      </body>\n    </html>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\app\\theme-preview\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\auth.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":17,"column":17,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":17,"endColumn":68,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[515,566],"text":"// @ts-expect-error - To be fixed via next-auth extension"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import NextAuth from \"next-auth\"\r\nimport Google from \"next-auth/providers/google\"\r\nimport { PrismaAdapter } from \"@auth/prisma-adapter\"\r\nimport { PrismaClient } from \"@prisma/client\"\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nexport const { handlers, signIn, signOut, auth } = NextAuth({\r\n    adapter: PrismaAdapter(prisma),\r\n    providers: [Google],\r\n    session: {\r\n        strategy: \"database\",\r\n    },\r\n    callbacks: {\r\n        async session({ session, user }) {\r\n            if (session.user) {\r\n                // @ts-ignore - To be fixed via next-auth extension\r\n                session.user.role = user.role;\r\n            }\r\n            return session;\r\n        }\r\n    }\r\n})\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\components\\HomeContent.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\review project\\src\\components\\HomeContent.tsx:60:9\n  58 |         };\n  59 |\n> 60 |         setIsMounted(true);\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  61 |         calculateDailyPick();\n  62 |         const interval = setInterval(calculateDailyPick, 1000);\n  63 |","line":60,"column":9,"nodeType":null,"endLine":60,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\n\r\n// Defining the shape of the data received from Prisma\r\ntype GameData = {\r\n    id: string;\r\n    slug: string;\r\n    title: string;\r\n    releaseDate: Date;\r\n    company: string;\r\n    genre: string;\r\n    coverImage: string;\r\n    storyline: string;\r\n    postReview: { totalScore: number } | null;\r\n};\r\n\r\nexport default function HomeContent({ initialGames }: { initialGames: GameData[] }) {\r\n    const router = useRouter();\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [selectedGame, setSelectedGame] = useState<string | null>(null);\r\n    const [dailyPick, setDailyPick] = useState<GameData | null>(null);\r\n    const [timeRemaining, setTimeRemaining] = useState<string>(\"\");\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const allGames = useMemo(() => initialGames, [initialGames]);\r\n\r\n    // Daily Pick & Countdown Logic\r\n    useEffect(() => {\r\n        if (allGames.length === 0) return;\r\n\r\n        const calculateDailyPick = () => {\r\n            const now = new Date();\r\n            const dateString = now.toDateString();\r\n\r\n            let hash = 0;\r\n            for (let i = 0; i < dateString.length; i++) {\r\n                hash = (hash << 5) - hash + dateString.charCodeAt(i);\r\n                hash |= 0;\r\n            }\r\n\r\n            const index = Math.abs(hash) % allGames.length;\r\n            setDailyPick(allGames[index]);\r\n\r\n            const tomorrow = new Date(now);\r\n            tomorrow.setHours(24, 0, 0, 0);\r\n            const diff = tomorrow.getTime() - now.getTime();\r\n\r\n            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);\r\n            const minutes = Math.floor((diff / 1000 / 60) % 60);\r\n            const seconds = Math.floor((diff / 1000) % 60);\r\n\r\n            setTimeRemaining(\r\n                `${hours.toString().padStart(2, '0')}h ${minutes.toString().padStart(2, '0')}m ${seconds.toString().padStart(2, '0')}s`\r\n            );\r\n        };\r\n\r\n        setIsMounted(true);\r\n        calculateDailyPick();\r\n        const interval = setInterval(calculateDailyPick, 1000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [allGames]);\r\n\r\n    const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchQuery(e.target.value);\r\n    };\r\n\r\n    const filteredGames = searchQuery\r\n        ? allGames.filter((game) => game.title.toLowerCase().includes(searchQuery.toLowerCase()))\r\n        : [];\r\n\r\n    // For real database we'll just sort by releaseDate or if we had an updatedAt field.\r\n    // Prisma games use releaseDate for sorting for now since views are gone.\r\n    const latestGames = [...allGames].sort((a, b) => new Date(b.releaseDate).getTime() - new Date(a.releaseDate).getTime());\r\n    const topViewedGames = [...allGames]; // In a real app, sort by actual views\r\n\r\n    const handleGameSelect = (slug: string) => {\r\n        setSelectedGame(slug);\r\n    };\r\n\r\n    const navigateToReview = (segment: \"pre\" | \"post\") => {\r\n        if (selectedGame) {\r\n            router.push(`/games/${selectedGame}?mode=${segment}`);\r\n        }\r\n    };\r\n\r\n    const renderGameCard = (game: GameData, showViews: boolean = false) => (\r\n        <div\r\n            key={game.id}\r\n            className=\"glass-panel game-card\"\r\n            onClick={() => handleGameSelect(game.slug)}\r\n            style={{ cursor: 'pointer', padding: '0', overflow: 'hidden', transition: 'transform 0.3s, box-shadow 0.3s', display: 'flex', flexDirection: 'column' }}\r\n            onMouseEnter={(e) => {\r\n                e.currentTarget.style.transform = 'translateY(-5px)';\r\n                e.currentTarget.style.boxShadow = '0 12px 40px rgba(157, 78, 221, 0.2)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n                e.currentTarget.style.boxShadow = '0 8px 32px 0 rgba(0, 0, 0, 0.3)';\r\n            }}\r\n        >\r\n            <div style={{ position: 'relative', height: '180px' }}>\r\n                <Image\r\n                    src={game.coverImage}\r\n                    alt={game.title}\r\n                    fill\r\n                    unoptimized\r\n                    sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n                    style={{ objectFit: 'cover' }}\r\n                />\r\n                <div style={{ position: 'absolute', top: '12px', right: '12px', display: 'flex', gap: '8px' }}>\r\n                    <span className=\"badge\" style={{ background: 'rgba(0,0,0,0.8)', border: 'none' }}>\r\n                        ★ {game.postReview?.totalScore || 'N/A'}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div style={{ padding: '20px', flexGrow: 1, display: 'flex', flexDirection: 'column' }}>\r\n                <h3 style={{ marginBottom: '8px', fontSize: '1.2rem' }}>{game.title}</h3>\r\n                <p style={{ color: 'var(--primary)', fontSize: '0.8rem', fontWeight: 600, marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '1px' }}>\r\n                    {game.genre}\r\n                </p>\r\n                <div style={{ marginTop: 'auto', paddingTop: '10px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <span style={{ color: 'var(--text-muted)', fontSize: '0.8rem' }}>\r\n                        {showViews ? \"Popular\" : new Date(game.releaseDate).toLocaleDateString()}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container\" style={{ paddingTop: '60px', paddingBottom: '80px', minHeight: '80vh' }}>\r\n            <section className=\"search-section\" style={{ maxWidth: '700px', margin: '0 auto 60px auto', textAlign: 'center' }}>\r\n                <h1 style={{ fontSize: '2.5rem', marginBottom: '16px' }}>Search the Vault, <span className=\"text-gradient\">Find Your Game</span></h1>\r\n                <p style={{ color: 'var(--text-muted)', marginBottom: '30px' }}>Unlock spoiler-free impressions or deep-dive into the vault&apos;s analysis.</p>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"glass-panel\"\r\n                    placeholder=\"Search for a game... (e.g., Elden Ring)\"\r\n                    value={searchQuery}\r\n                    onChange={handleSearch}\r\n                    style={{ width: '100%', padding: '18px 24px', fontSize: '1.2rem', color: '#fff', border: '1px solid var(--primary)', outline: 'none', borderRadius: '50px', background: 'var(--bg-surface-elevated)' }}\r\n                />\r\n            </section>\r\n\r\n            {searchQuery ? (\r\n                <section className=\"search-results fade-in\">\r\n                    <h2 style={{ marginBottom: '24px', borderBottom: '1px solid var(--border-subtle)', paddingBottom: '10px' }}>Search Results</h2>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', gap: '24px' }}>\r\n                        {filteredGames.length > 0 ? (\r\n                            filteredGames.map(game => renderGameCard(game))\r\n                        ) : (\r\n                            <p style={{ color: 'var(--text-muted)' }}>No games found matching &quot;{searchQuery}&quot;.</p>\r\n                        )}\r\n                    </div>\r\n                </section>\r\n            ) : (\r\n                <div className=\"fade-in\" style={{ display: 'flex', flexDirection: 'column', gap: '60px' }}>\r\n                    {isMounted && dailyPick && (\r\n                        <section className=\"fade-in\">\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end', marginBottom: '20px', borderBottom: '1px solid var(--border-subtle)', paddingBottom: '10px' }}>\r\n                                <h2 style={{ display: 'flex', alignItems: 'center', gap: '8px', margin: 0 }}>\r\n                                    <span style={{ color: 'var(--primary)', textShadow: '0 0 10px var(--primary-glow)' }}>✦</span> Today&apos;s Vault Pick\r\n                                </h2>\r\n                                <span className=\"badge\" style={{ background: 'var(--bg-surface-elevated)', border: '1px solid var(--border-subtle)', color: 'var(--text-muted)', fontSize: '0.8rem' }}>\r\n                                    New pick in {timeRemaining}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div\r\n                                className=\"glass-panel vault-card\"\r\n                                onClick={() => handleGameSelect(dailyPick.slug)}\r\n                                style={{\r\n                                    cursor: 'pointer',\r\n                                    padding: '0',\r\n                                    overflow: 'hidden',\r\n                                    display: 'flex',\r\n                                    flexDirection: 'row',\r\n                                    alignItems: 'center',\r\n                                    background: 'linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%)',\r\n                                    border: '1px solid rgba(56, 189, 248, 0.4)',\r\n                                    boxShadow: '0 0 30px rgba(56, 189, 248, 0.15), inset 0 0 20px rgba(0,0,0,0.5)',\r\n                                    minHeight: '200px'\r\n                                }}\r\n                            >\r\n                                <div style={{ width: '35%', height: '100%', minHeight: '200px', position: 'relative' }}>\r\n                                    <Image\r\n                                        src={dailyPick.coverImage}\r\n                                        alt={dailyPick.title}\r\n                                        fill\r\n                                        priority\r\n                                        unoptimized\r\n                                        sizes=\"35vw\"\r\n                                        style={{ objectFit: 'cover' }}\r\n                                    />\r\n                                    <div style={{ position: 'absolute', inset: 0, background: 'linear-gradient(to right, transparent, rgba(15, 23, 42, 0.95))' }} />\r\n                                </div>\r\n\r\n                                <div style={{ padding: '30px', flex: 1 }}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '10px' }}>\r\n                                        <div>\r\n                                            <span style={{ color: 'var(--primary)', fontSize: '0.8rem', fontWeight: 600, textTransform: 'uppercase', letterSpacing: '1px', display: 'block', marginBottom: '4px' }}>\r\n                                                {dailyPick.genre}\r\n                                            </span>\r\n                                            <h3 style={{ fontSize: '1.8rem', margin: 0, textShadow: '0 2px 4px rgba(0,0,0,0.5)' }}>{dailyPick.title}</h3>\r\n                                        </div>\r\n                                        <div className=\"badge\" style={{ background: 'linear-gradient(135deg, var(--primary), var(--secondary))', color: '#fff', border: 'none', fontSize: '1.1rem', padding: '6px 14px' }}>\r\n                                            ★ {dailyPick.postReview?.totalScore || 'N/A'}\r\n                                        </div>\r\n                                    </div>\r\n                                    <p style={{ color: 'var(--text-muted)', fontSize: '1rem', lineHeight: 1.6, maxWidth: '90%' }}>\r\n                                        {dailyPick.storyline}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n\r\n                    <section>\r\n                        <h2 style={{ marginBottom: '24px', borderBottom: '1px solid var(--border-subtle)', paddingBottom: '10px', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                            <span style={{ color: 'var(--primary)' }}>•</span> Latest Updated Reviews\r\n                        </h2>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', gap: '24px' }}>\r\n                            {latestGames.map(game => renderGameCard(game, false))}\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section>\r\n                        <h2 style={{ marginBottom: '24px', borderBottom: '1px solid var(--border-subtle)', paddingBottom: '10px', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                            <span style={{ color: 'var(--secondary)' }}>★</span> Top Rated Reviews\r\n                        </h2>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', gap: '24px' }}>\r\n                            {topViewedGames.map(game => renderGameCard(game, true))}\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            )}\r\n\r\n            {selectedGame && (\r\n                <div className=\"modal-overlay\" style={{ position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', backgroundColor: 'rgba(10, 5, 20, 0.85)', backdropFilter: 'blur(12px)', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000 }}>\r\n                    <div className=\"glass-panel modal-content vault-modal fade-in\" style={{ padding: '40px', maxWidth: '500px', width: '90%', textAlign: 'center', position: 'relative' }}>\r\n                        <div className=\"scan-line\" />\r\n                        <button\r\n                            onClick={() => setSelectedGame(null)}\r\n                            style={{ position: 'absolute', top: '16px', right: '20px', background: 'transparent', border: 'none', color: 'var(--text-muted)', fontSize: '2rem', cursor: 'pointer', zIndex: 10 }}\r\n                        >\r\n                            &times;\r\n                        </button>\r\n                        <h2 style={{ marginBottom: '10px', letterSpacing: '2px', textTransform: 'uppercase' }}>Access the Vault</h2>\r\n                        <p style={{ color: 'var(--primary)', marginBottom: '30px', fontSize: '0.9rem', fontWeight: 600, textTransform: 'uppercase', letterSpacing: '1px' }}>\r\n                            Select your clearance level to proceed.\r\n                        </p>\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', position: 'relative', zIndex: 5 }}>\r\n                            <button className=\"btn-primary\" onClick={() => navigateToReview(\"pre\")} style={{ padding: '20px', fontSize: '1.2rem', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '4px' }}>\r\n                                <span style={{ fontWeight: 800 }}>[ PRE-GAME REVIEW ]</span>\r\n                                <span style={{ fontSize: '0.8rem', fontWeight: 'normal', opacity: 0.8 }}>SPOILER-FREE IMPRESSIONS</span>\r\n                            </button>\r\n                            <button className=\"btn-outline\" onClick={() => navigateToReview(\"post\")} style={{ padding: '20px', fontSize: '1.2rem', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '4px', borderColor: 'var(--secondary)' }}>\r\n                                <span style={{ color: 'var(--secondary)', fontWeight: 800 }}>[ POST-GAME ANALYSIS ]</span>\r\n                                <span style={{ fontSize: '0.8rem', fontWeight: 'normal', opacity: 0.8, color: 'var(--text-muted)' }}>DEEP DIVE & TOTAL RATINGS</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\review project\\src\\lib\\actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
